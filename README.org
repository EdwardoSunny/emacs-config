* My Literate Emacs Config
[[./img/sc.png]]

WIP!

** Caps Remap
Make the most useless key useful via remap to super/esc
*** Ubuntu with X11 (xremap)
First install rust
#+begin_src bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
#+end_src

Add rust to $PATH, add this to =.bashrc=
#+begin_src bash
export PATH="$HOME/.cargo/bin:$PATH"
#+end_src

Install xremap
#+begin_src bash
cargo install xremap --features x11
#+end_src

Create config:
#+begin_src bash
mkdir -p ~/.config/xremap/
#+end_src

Write the config yaml into the xremap directory as =config.yml=
#+begin_src 
modmap:
  - name: "Caps Lock to Super (held) and Esc (tapped)"
    remap:
      CapsLock:
        held: Super_L
        alone: Esc
        free_hold: true
#+end_src

To set up xremap service, you need to be able to run xremap without sudo (be able to use evdev and uinput). Configure by:
#+begin_src bash
sudo gpasswd -a YOUR_USER input
echo 'KERNEL=="uinput", GROUP="input", TAG+="uaccess"' | sudo tee /etc/udev/rules.d/input.rules
#+end_src

Then reboot for it to take effect.

Make xremap system-wide config
#+begin_src bash
sudo ln -s "$HOME/.cargo/bin/xremap" /usr/local/bin/xremap
#+end_src

Create systemd service
#+begin_src bash
mkdir -p ~/.config/systemd/user/
#+end_src

Write the service file into =xremap.service=
#+begin_src bash
[Unit]
Description=xremap: Key remapper

[Service]
ExecStart=%h/.cargo/bin/xremap %h/.config/xremap/config.yml --watch
Restart=always
RestartSec=3

[Install]
WantedBy=default.target
#+end_src

Enable service:
#+begin_src bash
systemctl --user enable --now xremap.service
#+end_src

Verify status:
#+begin_src bash
systemctl --user status xremap.service
#+end_src

*** Arch with Wayland
WIP

